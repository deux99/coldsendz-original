(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3636)}])},3636:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(5893),r=t(7294),n=t(889);function l(e){var s;let{children:t,sidebar:r}=e,{user:l,logout:i}=(0,n.aC)();return(0,a.jsxs)("div",{className:"h-screen bg-slate-50 overflow-hidden flex",children:[r,(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[(0,a.jsx)("header",{className:"glass z-10 sticky top-0 px-8 py-4 flex items-center justify-end",children:(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 pl-6 border-l border-slate-200",children:[(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:null==l?void 0:l.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:null==l?void 0:l.email})]}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-indigo-600 p-0.5 shadow-md",children:(0,a.jsx)("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-bold text-transparent bg-clip-text bg-gradient-to-br from-primary-600 to-indigo-600",children:(null==l?void 0:null===(s=l.name)||void 0===s?void 0:s.charAt(0).toUpperCase())||"U"})})})]}),(0,a.jsx)("button",{onClick:i,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-all duration-200",title:"Logout",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-8 scrollbar-hide",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto animate-fade-in",children:t})})]})]})}function i(e){let{activeSection:s,onSectionChange:t}=e,{user:r}=(0,n.aC)(),l=(null==r?void 0:r.role)==="admin",i=[{id:"compose",name:"Run Campaign",icon:"campaign",description:"Start new email campaigns"},{id:"analytics",name:"Campaign Progress",icon:"chart",description:"Track your campaigns"},{id:"campaigns",name:"Campaign History",icon:"history",description:"View past campaigns"},{id:"recipients",name:"Import Recipients",icon:"users",description:"Manage your audience"},{id:"senders",name:"Manage Senders",icon:"mail",description:"Configure sender accounts"},{id:"templates",name:"Email Templates",icon:"template",description:"Create stunning emails"}],o=e=>{let s="w-5 h-5";switch(e){case"campaign":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})});case"chart":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"history":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});case"users":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})});case"mail":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"template":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"admin":return(0,a.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})});default:return(0,a.jsx)("span",{className:s,children:e})}},d=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4 px-4",children:(0,a.jsx)("h2",{className:"text-xs uppercase tracking-wider text-slate-400 font-bold",children:r})}),(0,a.jsx)("nav",{className:"space-y-1",children:e.map((e,r)=>(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"group relative w-full flex items-center px-4 py-3 text-left rounded-xl transition-all duration-200 ease-out ".concat(s===e.id?"bg-primary-50 text-primary-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),style:{animationDelay:"".concat((n+r)*50,"ms")},children:[s===e.id&&(0,a.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary-600 rounded-r-full"}),(0,a.jsx)("div",{className:"mr-3 transition-colors duration-200 ".concat(s===e.id?"text-primary-600":"text-slate-400 group-hover:text-slate-600"),children:o(e.icon)}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("div",{className:"font-medium text-sm",children:e.name})})]},e.id))})]})};return(0,a.jsxs)("div",{className:"w-72 h-screen bg-white border-r border-slate-200 flex flex-col overflow-hidden z-20 shadow-soft",children:[(0,a.jsx)("div",{className:"p-6 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/30",children:(0,a.jsx)("span",{className:"text-white text-lg font-bold",children:"C"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"ColdSendz"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Pro Edition"})]})]})}),(0,a.jsxs)("div",{className:"flex-1 px-4 py-6 overflow-y-auto scrollbar-hide",children:[d(i,"Dashboard"),l&&d([{id:"user-management",name:"User Management",icon:"admin",description:"Manage user accounts"}],"Administration",i.length)]}),(0,a.jsx)("div",{className:"p-4 border-t border-slate-100",children:(0,a.jsx)("div",{className:"bg-slate-50 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-xs text-slate-500 text-center",children:"v2.0.0 \xa9 2025"})})})]})}let o={AUSTRALIA_SYDNEY:{targetTimezone:"Australia/Sydney",sendTimeStart:9,sendTimeEnd:17,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},AUSTRALIA_MELBOURNE:{targetTimezone:"Australia/Melbourne",sendTimeStart:9,sendTimeEnd:17,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},SRI_LANKA:{targetTimezone:"Asia/Colombo",sendTimeStart:9,sendTimeEnd:17,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},NEW_YORK:{targetTimezone:"America/New_York",sendTimeStart:9,sendTimeEnd:17,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},LOS_ANGELES:{targetTimezone:"America/Los_Angeles",sendTimeStart:9,sendTimeEnd:17,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},LONDON:{targetTimezone:"Europe/London",sendTimeStart:9,sendTimeEnd:17,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},SINGAPORE:{targetTimezone:"Asia/Singapore",sendTimeStart:9,sendTimeEnd:18,sendDays:{sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},businessHourStart:9,businessHourEnd:18,respectBusinessHours:!0,respectWeekends:!0,allowNightSending:!1},DUBAI:{targetTimezone:"Asia/Dubai",sendTimeStart:8,sendTimeEnd:17,sendDays:{sunday:!0,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!1,saturday:!1},businessHourStart:8,businessHourEnd:17,respectBusinessHours:!0,respectWeekends:!1,allowNightSending:!1}};function d(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;if(!e||!s)return e;let n=s.email.split("@")[1]||"",l=c(e.substring(0,100)),i="".concat(s.email,"_").concat(t,"_").concat(n,"_").concat(l),o=c(i);console.log("\uD83D\uDD0D PersonalizeContent called:",{recipient:s.email,hasSpintax:/{[^}]*\|[^}]*}/.test(e),seed:o,contentPreview:e.substring(0,100)});let d=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(console.log("\uD83D\uDD27 expandSpintax START:",{textLength:null==e?void 0:e.length,seed:s,hasSpintax:/{[^{}]*\|[^{}]*}/.test(e||"")}),!e||"string"!=typeof e)return console.log("❌ expandSpintax ABORT: Invalid input"),e;let t=Math.random;if(null!==s){let e=s;t=()=>(e=(9301*e+49297)%233280)/233280}let a=e,r=0,n=/{([^{}]+\|[^{}]+)}/;for(;n.test(a)&&r<100;)a=a.replace(n,(e,s)=>{let a=s.split("|").map(e=>e.trim());if(a.length<=1)return e;let r=Math.floor(t()*a.length),n=a[r]||a[0];return console.log('  ✓ Replaced "'.concat(e,'" → "').concat(n,'" (index ').concat(r,"/").concat(a.length,")")),n}),r++;return console.log("✅ expandSpintax END:",{iterations:r,stillHasSpintax:n.test(a)}),a}(e,o);console.log("✅ After spintax expansion:",{stillHasSpintax:/{[^}]*\|[^}]*}/.test(d),result:d.substring(0,100)});let m=r;if(!m){let e=a.split("@")[0]||"";m=({sales:"John from Sales",support:"Sarah from Support",marketing:"Mike from Marketing",info:"The Team",hello:"Customer Success",contact:"Business Development"})[e]||"The Team"}return d.replace(/\{\{name\}\}/g,s.name||s.email.split("@")[0]).replace(/\{\{email\}\}/g,s.email).replace(/\{\{firstName\}\}/g,(s.name||s.email.split("@")[0]).split(" ")[0]).replace(/\{\{lastName\}\}/g,(s.name||s.email.split("@")[0]).split(" ").slice(1).join(" ")||"").replace(/\{\{senderName\}\}/g,m)}function c(e){let s=0;for(let t=0;t<e.length;t++){let a=e.charCodeAt(t);s=(s<<5)-s+a,s&=s}return Math.abs(s)}function m(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())}function x(e){let{recipients:s,senders:t,templates:n,campaignFormData:l,setCampaignFormData:i}=e,{campaignName:c,subject:m,body:x,selectedSenders:u,timezoneConfig:h}=l,[p,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(""),[j,f]=(0,r.useState)(""),v=e=>{i(s=>({...s,campaignName:e}))},N=e=>{i(s=>({...s,subject:e}))},w=e=>{i(s=>({...s,body:e}))},k=e=>{i(s=>({...s,selectedSenders:e}))},S=e=>{i(s=>({...s,timezoneConfig:e}))};(0,r.useEffect)(()=>{let e=()=>{if(h){let e=new Date,s=new Intl.DateTimeFormat("en-US",{timeZone:h.targetTimezone,hour:"2-digit",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric"});f(s.format(e))}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[h]);let[C,D]=(0,r.useState)({email:"john.doe@example.com",name:"John Doe"}),L=async()=>{if(console.log("\uD83D\uDE80 Send Campaign button clicked!"),console.log("\uD83D\uDCCA Campaign data:",{campaignName:c,subject:m,body:x.substring(0,50),recipients:s.length,selectedSenders:u}),!c||!m||!x||0===s.length||0===u.length){console.log("❌ Validation failed:",{campaignName:!!c,subject:!!m,body:!!x,recipients:s.length,selectedSenders:u.length}),b("Please fill in all fields, select sender emails, and add recipients");return}console.log("✅ Validation passed, starting campaign..."),g(!0),b("Starting campaign...");try{console.log("\uD83D\uDCE1 Sending request to /api/campaigns/send...");let e=localStorage.getItem("token"),t=await fetch("/api/campaigns/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({campaignName:c,subject:m,text:x,recipients:s,selectedSenders:u,timezoneConfig:h})});console.log("\uD83D\uDCE8 Response received:",t.status,t.ok);let a=await t.json();console.log("\uD83D\uDCC4 Response data:",a),t.ok?(console.log("✅ Campaign started successfully!"),b("Campaign started! Sending to ".concat(a.totalRecipients," recipients."))):(console.log("❌ Campaign start failed:",a.error),b("Error: ".concat(a.error)))}catch(e){console.log("\uD83D\uDCA5 Network error:",e),b("Error starting campaign"),console.error("Error:",e)}finally{g(!1)}};return(0,a.jsxs)("div",{className:"space-y-8 animate-slide-up pb-16",children:[(0,a.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent mb-4",children:"Compose Campaign"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Create and personalize your email campaigns with advanced features"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-blue",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Campaign Details"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Configure your email campaign"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Campaign Name"}),(0,a.jsx)("input",{type:"text",value:c,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"My Awesome Campaign"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Sender Emails (",u.length," selected)"]}),(0,a.jsx)("div",{className:"bg-white border border-gray-300 rounded-2xl p-4 max-h-64 overflow-y-auto",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"No sender emails configured"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Go to Manage Senders to add sender addresses"})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-200",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Select senders for this campaign:"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>k([...t]),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Select All"}),(0,a.jsx)("button",{type:"button",onClick:()=>k([]),className:"text-xs text-gray-600 hover:text-gray-700 font-medium",children:"Clear All"})]})]}),t.map((e,s)=>(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(e),onChange:s=>{s.target.checked?k([...u,e]):k(u.filter(s=>s!==e))},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.split("@")[0]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e})]})]},s))]})}),u.length>0&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3",children:[(0,a.jsxs)("p",{className:"text-xs text-green-700 font-medium",children:[(0,a.jsxs)("strong",{children:["Selected ",u.length," senders:"]})," Campaign will rotate between these sender addresses"]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[u.slice(0,3).map((e,s)=>(0,a.jsx)("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:e.split("@")[0]},s)),u.length>3&&(0,a.jsxs)("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:["+",u.length-3," more"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"\uD83D\uDCC5 Schedule Settings"}),(0,a.jsxs)("select",{value:(null==h?void 0:h.targetTimezone)||"",onChange:e=>{if(""===e.target.value)S(null);else{let s=Object.values(o).find(s=>s.targetTimezone===e.target.value);s&&S({...s})}},className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm",children:[(0,a.jsx)("option",{value:"",children:"No schedule (send anytime)"}),(0,a.jsx)("option",{value:o.AUSTRALIA_SYDNEY.targetTimezone,children:"\uD83C\uDDE6\uD83C\uDDFA Australia/Sydney (AEDT/AEST)"}),(0,a.jsx)("option",{value:o.AUSTRALIA_MELBOURNE.targetTimezone,children:"\uD83C\uDDE6\uD83C\uDDFA Australia/Melbourne (AEDT/AEST)"}),(0,a.jsx)("option",{value:o.SRI_LANKA.targetTimezone,children:"\uD83C\uDDF1\uD83C\uDDF0 Asia/Colombo (Sri Lanka)"}),(0,a.jsx)("option",{value:o.SINGAPORE.targetTimezone,children:"\uD83C\uDDF8\uD83C\uDDEC Asia/Singapore"}),(0,a.jsx)("option",{value:o.DUBAI.targetTimezone,children:"\uD83C\uDDE6� Asia/Dubai (UAE)"}),(0,a.jsx)("option",{value:o.LONDON.targetTimezone,children:"\uD83C\uDDEC\uD83C\uDDE7 Europe/London (GMT/BST)"}),(0,a.jsx)("option",{value:o.NEW_YORK.targetTimezone,children:"\uD83C\uDDFA\uD83C\uDDF8 America/New_York (EST/EDT)"}),(0,a.jsx)("option",{value:o.LOS_ANGELES.targetTimezone,children:"\uD83C\uDDFA\uD83C\uDDF8 America/Los_Angeles (PST/PDT)"})]}),h&&(0,a.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg p-6 space-y-5 mt-4",children:[(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:["Current Time in ",h.targetTimezone.split("/")[1]]}),(0,a.jsx)("span",{className:"text-base font-mono font-semibold text-gray-900",children:j})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Send these days"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:[{key:"sunday",label:"Sunday"},{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"}].map(e=>{var s;let t=null==h?void 0:null===(s=h.sendDays)||void 0===s?void 0:s[e.key];return(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:t||!1,onChange:s=>{h&&S({...h,sendDays:{...h.sendDays,[e.key]:s.target.checked}})},className:"w-5 h-5 text-blue-600 bg-white border-2 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},e.key)})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Time Period Between Sequences"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"From"}),(0,a.jsx)("select",{value:h.sendTimeStart,onChange:e=>S({...h,sendTimeStart:parseInt(e.target.value),businessHourStart:parseInt(e.target.value)}),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700",children:Array.from({length:24},(e,s)=>s).map(e=>(0,a.jsxs)("option",{value:e,children:[e.toString().padStart(2,"0"),":00"]},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"To"}),(0,a.jsx)("select",{value:h.sendTimeEnd,onChange:e=>S({...h,sendTimeEnd:parseInt(e.target.value),businessHourEnd:parseInt(e.target.value)}),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700",children:Array.from({length:24},(e,s)=>s).map(e=>(0,a.jsxs)("option",{value:e,children:[e.toString().padStart(2,"0"),":00"]},e))})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-700",children:["Active window: ",(0,a.jsxs)("span",{className:"font-semibold",children:[h.sendTimeStart.toString().padStart(2,"0"),":00 -",h.sendTimeEnd.toString().padStart(2,"0"),":00"]})]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded border border-gray-300",children:[h.sendTimeEnd-h.sendTimeStart," hours"]})]})})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-300",children:(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"font-medium",children:"Schedule:"})," Sending on selected days from"," ",h.sendTimeStart.toString().padStart(2,"0"),":00 to"," ",h.sendTimeEnd.toString().padStart(2,"0"),":00"," ","(",h.targetTimezone,")"]})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Subject Line"}),(0,a.jsx)("input",{type:"text",value:m,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"Your compelling subject line..."}),(0,a.jsx)("div",{className:"bg-primary-50 border border-primary-200 rounded-xl p-3",children:(0,a.jsxs)("p",{className:"text-xs text-primary-700 font-medium",children:[(0,a.jsx)("strong",{children:"Tip:"})," Use variables: ","{{name}}",", ","{{firstName}}",", ","{{lastName}}",", ","{{email}}"]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Body"}),(0,a.jsx)("textarea",{value:x,onChange:e=>w(e.target.value),rows:10,className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm resize-none",placeholder:"Hi {{name}},  I hope this email finds you well...  Best regards, {{senderName}}"}),(0,a.jsx)("div",{className:"bg-accent-50 border border-accent-200 rounded-xl p-3",children:(0,a.jsxs)("p",{className:"text-xs text-accent-700 font-medium",children:[(0,a.jsx)("strong",{children:"Advanced:"})," Use spintax for variations: ","{"," option1|option2|option3 ","}"]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Recipients (",s.length,")"]}),(0,a.jsx)("div",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-2xl min-h-[150px]",children:0===s.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No recipients imported. Go to the Recipients section to import your email list."}):(0,a.jsxs)("div",{className:"space-y-1",children:[s.slice(0,5).map((e,s)=>(0,a.jsx)("div",{className:"text-sm text-gray-700",children:e.name&&e.name!==e.email.split("@")[0]?"".concat(e.name," <").concat(e.email,">"):e.email},s)),s.length>5&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 font-medium",children:["... and ",s.length-5," more"]})]})}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-700 font-medium",children:[(0,a.jsx)("strong",{children:"Tip:"})," Use the Recipients section to import your email list from CSV files or paste them directly."]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{i({campaignName:"",subject:"",body:"",selectedSenders:[],timezoneConfig:null}),b("Form cleared"),setTimeout(()=>b(""),2e3)},className:"px-4 py-3 rounded-2xl font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition-all duration-300 border border-gray-300 hover:border-gray-400",children:"Clear Form"}),(0,a.jsx)("button",{onClick:L,disabled:p||0===s.length||0===u.length,className:"flex-1 px-6 py-4 rounded-2xl font-semibold text-lg transition-all duration-300 ".concat(p||0===s.length||0===u.length?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:from-primary-600 hover:to-primary-700 shadow-blue hover:shadow-large"),children:p?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Starting Campaign..."})]}):0===s.length?"Import Recipients First":0===u.length?"Select Sender Emails":"Send to ".concat(s.length," Recipients (").concat(u.length," senders)")})]}),y&&(0,a.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200/60 rounded-2xl p-4 shadow-soft",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center mt-0.5",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-800 mb-1",children:"Campaign Status"}),(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap text-gray-700",children:y})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-accent-400 to-accent-500 rounded-2xl flex items-center justify-center",children:(0,a.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Email Preview"}),(0,a.jsx)("p",{className:"text-gray-600",children:"See how your email will look"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Preview for recipient:"}),(0,a.jsx)("input",{type:"email",value:C.email,onChange:e=>D({...C,email:e.target.value,name:e.target.value.split("@")[0]}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"preview@example.com"})]}),(()=>{let e=d(m,C,0,""),s=d(x,C,0,"");return(0,a.jsxs)("div",{className:"bg-white border border-gray-200/60 rounded-2xl overflow-hidden shadow-soft",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-primary-50 to-accent-50 px-6 py-4 border-b border-gray-200/60",children:[(0,a.jsx)("div",{className:"font-bold text-gray-900 text-lg",children:e||"Subject Line"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["To: ",C.name," <",C.email,">"]})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:(s||"Email body will appear here...").replace(/\n/g,"<br>")}})})]})})()]})]})]})]})}var u=t(6501);function h(e){let{senders:s,setSenders:t}=e,[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(""),[d,c]=(0,r.useState)({username:"",displayName:""}),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{h(),p()},[]);let h=async()=>{try{let e=await fetch("/api/senders");if(e.ok){let s=await e.json();t(s.senders||[])}}catch(e){console.error("Error loading senders:",e)}},p=async()=>{try{let e=await fetch("/api/domains");if(e.ok){let s=await e.json();if(s.domains&&s.domains.length>0){let e=s.domains.map(e=>e.name);l(e),e.length>0&&o(e[0])}else u.ZP.error("No domains available")}else u.ZP.error("Failed to load domains")}catch(e){console.error("Error loading domains:",e),u.ZP.error("Error loading domains")}},g=async()=>{if(!d.username||!d.displayName||!i){u.ZP.error("Please fill all fields");return}x(!0);try{let e=await fetch("/api/senders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d.username,displayName:d.displayName,domain:i})});if(e.ok)u.ZP.success("Sender added successfully"),c({username:"",displayName:""}),h();else{let s=await e.json();u.ZP.error(s.error||"Failed to add sender")}}catch(e){console.error("Error adding sender:",e),u.ZP.error("Error adding sender")}finally{x(!1)}},y=async e=>{if(confirm("Are you sure you want to delete this sender?"))try{let s=await fetch("/api/senders/manage",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(s.ok)u.ZP.success("Sender deleted successfully"),h();else{let e=await s.json();u.ZP.error(e.error||"Failed to delete sender")}}catch(e){console.error("Error deleting sender:",e),u.ZP.error("Error deleting sender")}};return(0,a.jsxs)("div",{className:"space-y-8 animate-slide-up pb-16",children:[(0,a.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent mb-4",children:"Sender Management"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Configure and manage your verified email sender addresses"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-blue",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Sender"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Create a new verified sender address"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Username"}),(0,a.jsx)("input",{type:"text",value:d.username,onChange:e=>c({...d,username:e.target.value}),placeholder:"e.g., support",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Display Name"}),(0,a.jsx)("input",{type:"text",value:d.displayName,onChange:e=>c({...d,displayName:e.target.value}),placeholder:"e.g., Support Team",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Domain"}),(0,a.jsx)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm",children:n.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]}),(0,a.jsx)("button",{onClick:g,disabled:m,className:"mt-6 bg-gradient-to-r from-primary-500 to-primary-600 text-white px-8 py-4 rounded-2xl hover:from-primary-600 hover:to-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-blue hover:shadow-large font-semibold",children:m?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Adding..."})]}):"Add Sender"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-accent-400 to-accent-500 rounded-2xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Current Senders"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[s.length," active sender",1!==s.length?"s":""]})]})]})}),0===s.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No senders configured yet"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"Add your first sender above to get started"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:s.map(e=>(0,a.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl border border-gray-200/60 p-4 hover:shadow-md transition-all duration-300 group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:e.split("@")[0].charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 text-sm truncate",children:e}),(0,a.jsx)("p",{className:"text-gray-600 text-xs truncate",children:e.split("@")[0]})]})]}),(0,a.jsx)("button",{onClick:()=>y(e),className:"ml-2 bg-gradient-to-r from-error-500 to-error-600 text-white px-3 py-1.5 rounded-lg hover:from-error-600 hover:to-error-700 transition-all duration-300 font-medium text-xs flex-shrink-0",children:"Delete"})]})},e))})]}),n.length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-accent-50 rounded-3xl p-8 border border-primary-200/60",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-500 rounded-2xl flex items-center justify-center shadow-blue",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Available Domains"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[n.length," verified domain",1!==n.length?"s":""]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(e=>(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-white/60 shadow-soft",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("span",{className:"font-semibold text-gray-800",children:e})]})},e))})]})]})}let p=[{id:"1",name:"Cold Outreach - SaaS",subject:"Quick question about {company|your business|your organization}",body:"Hi {{name}},\n\nI noticed that {you work at|you're with} {{company}} and thought you might be interested in {our new solution|what we're building}.\n\n{We help companies like yours|Many businesses similar to yours use our platform to} {streamline their workflow|automate their processes|save time and money}.\n\nWould you be {interested in|open to} a {quick 15-minute call|brief conversation} to see if this could be valuable for {{company}}?\n\nBest regards,\n{{senderName}}",category:"Sales",createdAt:new Date().toISOString()},{id:"2",name:"Follow-up Email",subject:"Following up on {our conversation|my previous email}",body:"Hi {{name}},\n\nI wanted to follow up on {my previous email|our conversation} from {last week|a few days ago}.\n\n{I understand you're probably busy|I know things can get hectic}, but I {believe|think} this could be {really valuable|quite beneficial} for {{company}}.\n\n{Would you have|Do you have} {5 minutes|a few minutes} for a quick call this week?\n\nThanks,\n{{senderName}}",category:"Follow-up",createdAt:new Date().toISOString()},{id:"3",name:"Partnership Proposal",subject:"Partnership opportunity with {{company}}",body:"Hello {{name}},\n\nI'm reaching out because I {believe|think} there could be a {great|valuable} partnership opportunity between our companies.\n\nWe work with {businesses like yours|companies in your industry} to {provide|deliver} {better solutions|enhanced services} to their customers.\n\n{Would you be interested in|Are you open to} exploring how we might {work together|collaborate}?\n\nBest regards,\n{{senderName}}",category:"Partnership",createdAt:new Date().toISOString()}];function g(e){let{templates:s,setTemplates:t}=e,[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)("editor"),[g,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[N,w]=(0,r.useState)("Sales");r.useEffect(()=>{0===s.length&&t(p)},[s,t]);let[k,S]=(0,r.useState)({email:"john.doe@example.com",name:"John Doe"}),C=e=>{o(!0),m(!1),l(e),y(e.name),j(e.subject),v(e.body),w(e.category)},D=()=>{o(!1),m(!1),l(null),y(""),j(""),v(""),w("Sales")},L=e=>{confirm("Are you sure you want to delete this template?")&&(t(s.filter(s=>s.id!==e)),(null==n?void 0:n.id)===e&&D(),u.ZP.success("Template deleted successfully"))},E=e=>{u.ZP.success('Template "'.concat(e.name,'" copied to compose section'))},T=()=>{let e=d(b,k,0,"sales@company.com"),s=d(f,k,0,"sales@company.com");return{subject:e,body:s}};return(0,a.jsxs)("div",{className:"space-y-8 animate-slide-up pb-16",children:[(0,a.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent mb-4",children:"Email Templates"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Create and manage reusable email templates with variables and spintax"})]}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:c||i?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:i?"Edit Template":"Create New Template"}),(0,a.jsx)("p",{className:"text-gray-600",children:i?"Update your email template":"Design your new email template"})]}),(0,a.jsx)("button",{onClick:D,className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white px-6 py-3 rounded-2xl hover:from-gray-600 hover:to-gray-700 transition-all duration-300 font-semibold",children:"Back to Templates"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200/60",children:[(0,a.jsx)("button",{onClick:()=>h("editor"),className:"flex-1 px-6 py-4 text-sm font-semibold transition-all duration-300 ".concat("editor"===x?"bg-white text-primary-600 border-b-2 border-primary-600":"bg-gradient-to-r from-gray-50 to-gray-100 text-gray-500 hover:bg-gray-100"),children:"Editor"}),(0,a.jsx)("button",{onClick:()=>h("preview"),className:"flex-1 px-6 py-4 text-sm font-semibold transition-all duration-300 ".concat("preview"===x?"bg-white text-primary-600 border-b-2 border-primary-600":"bg-gradient-to-r from-gray-50 to-gray-100 text-gray-500 hover:bg-gray-100"),children:"Preview"})]}),(0,a.jsx)("div",{className:"p-8",children:"editor"===x?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Template Name"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),placeholder:"Enter template name",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Category"}),(0,a.jsx)("select",{value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm",children:["Sales","Follow-up","Partnership","Marketing","Support","Other"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Subject Line"}),(0,a.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:"Enter subject line with variables and spintax",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm"}),(0,a.jsx)("div",{className:"bg-primary-50 border border-primary-200 rounded-xl p-3",children:(0,a.jsxs)("p",{className:"text-xs text-primary-700 font-medium",children:["Tip: Use variables: ","{{name}}",", ","{{email}}",", ","{{company}}"," and spintax: ","{option1|option2}"]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Body"}),(0,a.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),rows:12,placeholder:"Enter email body with variables and spintax...",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 shadow-sm resize-none"}),(0,a.jsx)("div",{className:"bg-accent-50 border border-accent-200 rounded-xl p-3",children:(0,a.jsx)("p",{className:"text-xs text-accent-700 font-medium",children:"Support for spintax variations and personalization variables"})})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Preview for recipient:"}),(0,a.jsx)("input",{type:"email",value:k.email,onChange:e=>S({...k,email:e.target.value,name:e.target.value.split("@")[0]}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all duration-300 shadow-sm"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200/60 rounded-2xl overflow-hidden shadow-soft",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-primary-50 to-accent-50 px-6 py-4 border-b border-gray-200/60",children:[(0,a.jsx)("div",{className:"font-bold text-gray-900 text-lg",children:T().subject||"Subject Line"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["To: ",k.name," <",k.email,">"]})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:T().body||"Email body will appear here..."})})]})]})})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>{if(!g.trim()||!b.trim()||!f.trim()){u.ZP.error("Please fill in all fields");return}let e={id:(null==n?void 0:n.id)||Date.now().toString(),name:g.trim(),subject:b.trim(),body:f.trim(),category:N,createdAt:(null==n?void 0:n.createdAt)||new Date().toISOString()};i&&n?(t(s.map(s=>s.id===n.id?e:s)),u.ZP.success("Template updated successfully")):(t([...s,e]),u.ZP.success("Template created successfully")),D()},disabled:!g.trim()||!b.trim()||!f.trim(),className:"flex-1 px-6 py-4 rounded-2xl font-semibold transition-all duration-300 ".concat(g.trim()&&b.trim()&&f.trim()?"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:from-primary-600 hover:to-primary-700 shadow-blue hover:shadow-large":"bg-gray-200 text-gray-500 cursor-not-allowed"),children:i?"Update Template":"Save Template"}),(0,a.jsx)("button",{onClick:D,className:"px-6 py-4 bg-gradient-to-r from-gray-400 to-gray-500 text-white rounded-2xl hover:from-gray-500 hover:to-gray-600 transition-all duration-300 font-semibold",children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 border border-primary-200 rounded-3xl p-6 shadow-soft",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,a.jsx)("h3",{className:"font-bold text-primary-900 text-lg",children:"Template Tips"})]}),(0,a.jsxs)("ul",{className:"text-sm text-primary-800 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Variables:"})," Use ","{{name}}",", ","{{email}}",", ","{{company}}"," for personalization"]})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Spintax:"})," Use ","{option1|option2|option3}"," for content variation"]})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Sender:"})," Use ","{{senderName}}"," for dynamic sender names"]})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Testing:"})," Always preview your templates before using"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-success-50 to-success-100 border border-success-200 rounded-3xl p-6 shadow-soft",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-success-500 to-success-600 rounded-2xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"font-bold text-success-900 text-lg",children:"Best Practices"})]}),(0,a.jsxs)("ul",{className:"text-sm text-success-800 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-success-600 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:"Keep subject lines under 50 characters"})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-success-600 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:"Use spintax to avoid spam detection"})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-success-600 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:"Personalize with recipient names and companies"})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-success-600 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:"Include clear call-to-action"})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-success-600 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:"Test templates with different recipients"})]})]})]})]})]})]}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Email Templates"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[s.length," template",1!==s.length?"s":""," available"]})]}),(0,a.jsxs)("button",{onClick:()=>{m(!0),o(!1),l(null),y(""),j(""),v(""),w("Sales")},className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white px-6 py-3 rounded-2xl hover:from-primary-600 hover:to-primary-700 transition-all duration-300 shadow-blue hover:shadow-large font-semibold flex items-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,a.jsx)("span",{children:"Create Template"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(e=>(0,a.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl border border-gray-200/60 p-6 hover:shadow-medium transition-all duration-300 group",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 text-lg mb-1 line-clamp-1",children:e.name}),(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-semibold bg-primary-100 text-primary-700 rounded-full",children:e.category})]})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Subject:"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 bg-gray-50 rounded-xl p-3 line-clamp-2",children:e.subject})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>E(e),className:"flex-1 bg-gradient-to-r from-success-500 to-success-600 text-white px-3 py-2 rounded-xl hover:from-success-600 hover:to-success-700 transition-all duration-300 font-medium text-sm",children:"Use"}),(0,a.jsx)("button",{onClick:()=>C(e),className:"flex-1 bg-gradient-to-r from-accent-500 to-accent-600 text-white px-3 py-2 rounded-xl hover:from-accent-600 hover:to-accent-700 transition-all duration-300 font-medium text-sm",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>L(e.id),className:"flex-1 bg-gradient-to-r from-error-500 to-error-600 text-white px-3 py-2 rounded-xl hover:from-error-600 hover:to-error-700 transition-all duration-300 font-medium text-sm",children:"Delete"})]})]},e.id))})]})})]})}function y(e){let{recipients:s,setRecipients:t}=e,[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[x,h]=(0,r.useState)({total:0,valid:0,duplicatesRemoved:0}),p=(0,r.useRef)(null),g=async e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t){if(t.size>5242880){u.ZP.error("File size must be less than 5MB");return}if(!t.name.toLowerCase().endsWith(".csv")){u.ZP.error("Please select a CSV file");return}c(!0);try{await y(t)}catch(e){console.error("Error parsing CSV:",e),u.ZP.error("Error parsing CSV file")}finally{c(!1)}}},y=async e=>new Promise((s,t)=>{let a=new FileReader;a.onload=e=>{try{var a;let r=null===(a=e.target)||void 0===a?void 0:a.result,n=r.split("\n").filter(e=>e.trim());if(0===n.length){t(Error("CSV file is empty"));return}let i=n[0].split(",").map(e=>e.trim().replace(/"/g,"")),d=b(i),c=j(i);if(!d){t(Error('No email column found. Please ensure your CSV has an "email" column.'));return}let m=n.slice(1,6).map(e=>{let s=e.split(",").map(e=>e.trim().replace(/"/g,"")),t={};return i.forEach((e,a)=>{t[e]=s[a]||""}),t});l({headers:i,data:m,totalRows:n.length-1,emailColumn:d,nameColumn:c}),o(!0),s()}catch(e){t(e)}},a.onerror=()=>t(Error("Error reading file")),a.readAsText(e)}),b=e=>{let s=["email","e_mail","emailaddress","email_address","e-mail"];return e.find(e=>s.some(s=>e.toLowerCase().includes(s.toLowerCase())))},j=e=>{let s=["name","first_name","last_name","full_name","firstname","lastname","fullname"];return e.find(e=>s.some(s=>e.toLowerCase().includes(s.toLowerCase())))},f=async()=>{var e,a;if(n&&(null===(a=p.current)||void 0===a?void 0:null===(e=a.files)||void 0===e?void 0:e[0])){c(!0);try{let e=p.current.files[0],a=new FileReader;a.onload=e=>{var a,r;let i=null===(a=e.target)||void 0===a?void 0:a.result,d=i.split("\n").filter(e=>e.trim()),c=d[0].split(",").map(e=>e.trim().replace(/"/g,"")),x=c.indexOf(n.emailColumn),h=n.nameColumn?c.indexOf(n.nameColumn):-1,g=[];for(let e=1;e<d.length;e++){let s=d[e].split(",").map(e=>e.trim().replace(/"/g,"")),t=null===(r=s[x])||void 0===r?void 0:r.toLowerCase(),a=h>=0?s[h]:null==t?void 0:t.split("@")[0];t&&m(t)&&g.push({email:t,name:a||t.split("@")[0]})}let y=[...s,...g],b=function(e){let s=new Set,t=[];for(let r of e){let e=r.email.toLowerCase().trim();if(e&&!s.has(e)){var a;s.add(e),t.push({email:e,name:(null===(a=r.name)||void 0===a?void 0:a.trim())||e.split("@")[0]})}}return t}(y);t(b),v(g,b.length-s.length),o(!1),l(null),p.current&&(p.current.value=""),u.ZP.success("Imported ".concat(b.length-s.length," new recipients"))},a.readAsText(e)}catch(e){console.error("Error importing CSV:",e),u.ZP.error("Error importing recipients")}finally{c(!1)}}},v=(e,t)=>{let a=e.filter(e=>m(e.email)).length,r=e.length-t;h({total:s.length+t,valid:s.filter(e=>m(e.email)).length+a,duplicatesRemoved:x.duplicatesRemoved+r})},N=e=>{let a=s.filter((s,t)=>t!==e);t(a),h({...x,total:a.length,valid:a.filter(e=>m(e.email)).length})};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 pb-16",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Import Recipients"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Upload CSV files to import and manage recipient email addresses"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload CSV File"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-primary-300 rounded-3xl p-12 text-center bg-gradient-to-br from-primary-50 to-accent-50 transition-all duration-300 hover:border-primary-400 hover:from-primary-100 hover:to-accent-100",onDrop:e=>{e.preventDefault();let s=e.dataTransfer.files;if(s.length>0){let e=s[0];if(p.current){let s=new DataTransfer;s.items.add(e),p.current.files=s.files,g({target:{files:s.files}})}}},onDragOver:e=>{e.preventDefault()},children:[(0,a.jsx)("div",{className:"text-6xl mb-6",children:"�"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("p",{className:"text-xl text-gray-700 mb-3 font-semibold",children:"Drop your CSV file here or click to browse"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Supports CSV files up to 5MB with email addresses"})]}),(0,a.jsx)("input",{ref:p,type:"file",accept:".csv",onChange:g,className:"hidden"}),(0,a.jsx)("button",{onClick:()=>{var e;null===(e=p.current)||void 0===e||e.click()},disabled:d,className:"px-8 py-4 rounded-2xl font-semibold transition-all duration-300 ".concat(d?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:from-primary-600 hover:to-primary-700 shadow-blue hover:shadow-large"),children:d?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Processing..."})]}):"Browse Files"})]}),(0,a.jsxs)("div",{className:"mt-8 bg-gradient-to-br from-primary-50 to-primary-100 border border-primary-200 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h3",{className:"font-bold text-primary-900 text-lg",children:"CSV Format Requirements"})]}),(0,a.jsxs)("ul",{className:"text-sm text-primary-800 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Required:"})," ",(0,a.jsx)("code",{className:"bg-primary-200 px-2 py-1 rounded text-primary-900",children:"email"})," column with valid email addresses"]})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Optional:"})," ",(0,a.jsx)("code",{className:"bg-primary-200 px-2 py-1 rounded text-primary-900",children:"name"})," column with recipient names"]})]}),(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600 mt-0.5",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Alternative names:"})," ",(0,a.jsx)("code",{className:"bg-primary-200 px-2 py-1 rounded text-primary-900",children:"e_mail"}),", ",(0,a.jsx)("code",{className:"bg-primary-200 px-2 py-1 rounded text-primary-900",children:"emailaddress"}),", ",(0,a.jsx)("code",{className:"bg-primary-200 px-2 py-1 rounded text-primary-900",children:"first_name"}),", ",(0,a.jsx)("code",{className:"bg-primary-200 px-2 py-1 rounded text-primary-900",children:"full_name"})]})]})]})]})]}),i&&n&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"File Preview"}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-md border text-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"File contains:"}),(0,a.jsxs)("span",{className:"ml-2 text-blue-600 font-semibold",children:[n.totalRows," rows"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Email column:"}),(0,a.jsx)("span",{className:"ml-2 text-blue-600 font-semibold",children:n.emailColumn})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Name column:"}),(0,a.jsx)("span",{className:"ml-2 text-green-600 font-semibold",children:n.nameColumn||"Not found"})]})]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden mb-4",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:n.headers.map((e,s)=>(0,a.jsxs)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e,e===n.emailColumn&&(0,a.jsx)("span",{className:"text-blue-600 ml-1",children:"(Email)"}),e===n.nameColumn&&(0,a.jsx)("span",{className:"text-green-600 ml-1",children:"(Name)"})]},s))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.data.map((e,s)=>(0,a.jsx)("tr",{className:"hover:bg-gray-50",children:n.headers.map((s,t)=>(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:e[s]},t))},s))})]})})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:f,disabled:d,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat(d?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:d?"Importing...":"Import Recipients"}),(0,a.jsx)("button",{onClick:()=>{o(!1),l(null),p.current&&(p.current.value="")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Imported Recipients"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your recipient database"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 p-4 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-900 mb-1",children:x.total}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Recipients"})]}),(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-green-600 mb-1",children:x.valid}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Valid Emails"})]}),(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-orange-600 mb-1",children:x.duplicatesRemoved}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Duplicates Removed"})]})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No recipients imported yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Upload a CSV file to get started with your recipients!"})]}):(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,s)=>{var t;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-blue-600 font-medium text-sm",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||e.email.charAt(0).toUpperCase()})}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.email})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>N(s),className:"text-red-600 hover:text-red-900 hover:bg-red-50 px-3 py-1 rounded transition-colors",children:"Remove"})})]},s)})})]})})}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>{s.length>0&&confirm("Are you sure you want to clear all recipients?")&&(t([]),h({total:0,valid:0,duplicatesRemoved:0}),u.ZP.success("All recipients cleared"))},disabled:0===s.length,className:"px-4 py-2 text-sm font-medium rounded-md border transition-colors ".concat(0===s.length?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Clear All Recipients"}),(0,a.jsx)("button",{onClick:()=>{if(0===s.length){u.ZP.error("No recipients to export");return}let e="email,name\n"+s.map(e=>"".concat(e.email,",").concat(e.name)).join("\n"),t=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=a,r.download="recipients.csv",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),u.ZP.success("Recipients exported successfully")},disabled:0===s.length,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat(0===s.length?"bg-gray-50 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:"Export as CSV"})]})]})]})]})}function b(){let[e,s]=(0,r.useState)({isRunning:!1,campaignName:"",sent:0,successful:0,failed:0,total:0,completed:!1,startTime:null,status:"idle"}),[t,n]=(0,r.useState)([]),[l,i]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[c,m]=(0,r.useState)(0);(0,r.useEffect)(()=>{let s;if(e.isRunning&&e.startTime){let t=()=>{let s=Date.now()-e.startTime;m(s)};t(),s=setInterval(t,1e3)}else m(0);return()=>{s&&clearInterval(s)}},[e.isRunning,e.startTime]),(0,r.useEffect)(()=>{u(),x()},[]),(0,r.useEffect)(()=>{let e=async()=>{try{console.log("\uD83D\uDD04 Polling campaign status at",new Date().toLocaleTimeString());let e=await fetch("/api/campaigns/status");if(e.ok){let t=await e.json();console.log("\uD83D\uDCE1 Fetched campaign status:",t),console.log("\uD83D\uDCCA Current campaign running:",t.isRunning,"Sent:",t.sent),s(e=>{console.log("\uD83D\uDD04 Previous status:",e),console.log("\uD83C\uDD95 New status:",t);let s=e.isRunning,a=e.completed,r=e.sent,n=!t.isRunning&&t.completed&&s,l=t.isRunning&&!s&&!a,i=t.isRunning&&t.sent>r;if(console.log("\uD83D\uDD0D State changes - justStarted:",l,"progressChanged:",i,"isNowCompleted:",n),l)p('\uD83D\uDE80 Starting campaign: "'.concat(t.campaignName,'" to ').concat(t.total," recipients")),p("✅ Campaign accepted by server - sending ".concat(t.total," emails"));else if(i)p("\uD83D\uDCC8 Progress: ".concat(t.sent,"/").concat(t.total," emails sent"));else if(n){p('\uD83C\uDF89 Campaign "'.concat(t.campaignName,'" completed! ').concat(t.successful,"/").concat(t.sent," emails sent successfully"));let e={name:t.campaignName||"Unknown Campaign",subject:t.subject||"Unknown Subject",totalSent:t.sent,successful:t.successful,failed:t.failed,duration:t.startTime?Date.now()-t.startTime:0,timestamp:new Date().toLocaleString(),totalRecipients:t.total};h(e),p("\uD83D\uDCBE Campaign data saved to history")}return t})}}catch(e){console.error("❌ Error fetching campaign status:",e)}},t=async()=>{try{console.log("\uD83D\uDCE7 Polling email details at",new Date().toLocaleTimeString());let e=await fetch("/api/email-details");if(e.ok){let s=await e.json();console.log("\uD83D\uDCE7 Fetched email details:",s.length,"entries"),n(s)}}catch(e){console.error("❌ Error fetching email details:",e)}},a=async()=>{console.log("\uD83D\uDD04 Starting data fetch cycle at",new Date().toLocaleTimeString()),await e(),await t(),console.log("✅ Data fetch cycle completed at",new Date().toLocaleTimeString())};console.log("\uD83D\uDE80 Starting real-time polling for campaign updates"),a();let r=setInterval(a,1500);return()=>{console.log("\uD83D\uDED1 Stopping real-time polling"),clearInterval(r)}},[]);let x=async()=>{try{let e=await fetch("/api/campaigns/status");if(e.ok){let t=await e.json();if(t.isRunning){let e={isRunning:!0,campaignName:t.campaignName||"Unknown Campaign",sent:t.sent||0,successful:t.successful||0,failed:t.failed||0,total:t.total||0,completed:!1,startTime:Date.now()-(t.duration||0),subject:t.subject||"Unknown Subject"};s(e),p('✅ Reconnected to running campaign: "'.concat(t.campaignName,'"')),p("\uD83D\uDCCA Current progress: ".concat(t.sent,"/").concat(t.total," emails sent")),p("✅ Successful: ".concat(t.successful,", ❌ Failed: ").concat(t.failed)),p("\uD83D\uDD04 Continuing to monitor campaign progress...")}}}catch(e){}},u=()=>{try{let e=localStorage.getItem("campaignHistory");if(e){let s=JSON.parse(e);d(s)}}catch(e){console.error("❌ Error loading campaign history:",e)}},h=e=>{try{let s=JSON.parse(localStorage.getItem("campaignHistory")||"[]");s.unshift(e),s.length>10&&s.splice(10),localStorage.setItem("campaignHistory",JSON.stringify(s)),d(s)}catch(e){console.error("Error saving campaign to history:",e)}},p=e=>{let s=new Date().toLocaleTimeString(),t="[".concat(s,"] ").concat(e);i(e=>[t,...e.slice(0,49)])},g=async()=>{try{let e=await fetch("/api/campaigns/reset",{method:"POST"});e.ok&&(s({isRunning:!1,campaignName:"",sent:0,successful:0,failed:0,total:0,completed:!1,startTime:null,status:"idle"}),p("\uD83D\uDD04 Campaign manually reset"))}catch(e){console.error("Error resetting campaign:",e),p("❌ Failed to reset campaign")}},y=async()=>{try{let e=await fetch("/api/campaigns/pause",{method:"POST"});e.ok&&p("⏸️ Campaign paused by user")}catch(e){console.error("Error pausing campaign:",e),p("❌ Failed to pause campaign")}},b=async()=>{try{let e=await fetch("/api/campaigns/resume",{method:"POST"});e.ok&&p("▶️ Campaign resumed by user")}catch(e){console.error("Error resuming campaign:",e),p("❌ Failed to resume campaign")}},j=async()=>{try{let e=await fetch("/api/campaigns/stop",{method:"POST"});e.ok&&p("⏹️ Campaign stopped by user")}catch(e){console.error("Error stopping campaign:",e),p("❌ Failed to stop campaign")}},f=()=>0===e.total?0:Math.round(e.sent/e.total*100);return(0,a.jsxs)("div",{className:"space-y-8 animate-slide-up pb-16",children:[(0,a.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent mb-4",children:"Campaign Analytics"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Monitor your email campaign performance and real-time metrics"})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-blue",children:e.isRunning?(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}):(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Campaign Status"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Real-time campaign monitoring"})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:e.isRunning?'"'.concat(e.campaignName,'": Sending ').concat(e.sent," of ").concat(e.total," emails..."):e.completed?'"'.concat(e.campaignName,'" completed: ').concat(e.sent,"/").concat(e.total):"No active campaign"}),e.isRunning&&(0,a.jsxs)("div",{className:"flex flex-col space-y-1 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-success-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-success-600 font-medium",children:"Live Campaign"})]}),e.nextEmailIn&&e.nextEmailIn>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-3 h-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{className:"text-sm text-blue-600 font-medium",children:["Next email in ",e.nextEmailIn,"s"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:[f(),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Complete"}),(e.isRunning||e.completed)&&(0,a.jsx)("button",{onClick:g,className:"mt-2 bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded-lg text-xs transition-all duration-300 font-medium border border-red-200",children:"Reset Campaign"})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-accent-500 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:"".concat(f(),"%")}})})]}),e.isRunning&&(0,a.jsx)("div",{className:"mb-8 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 border border-gray-200/60",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("running"===e.status?"bg-green-500 animate-pulse":"paused"===e.status?"bg-yellow-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-700",children:"Campaign Control"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Status: ",(0,a.jsx)("span",{className:"font-medium text-gray-700 capitalize",children:e.status||"running"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:["running"===e.status?(0,a.jsxs)("button",{onClick:y,className:"group relative flex items-center space-x-2 bg-white hover:bg-yellow-50 text-yellow-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border border-yellow-200 hover:border-yellow-300 shadow-sm hover:shadow-md transform hover:scale-105",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6"})}),(0,a.jsx)("span",{children:"Pause Campaign"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-yellow-100 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}):"paused"===e.status?(0,a.jsxs)("button",{onClick:b,className:"group relative flex items-center space-x-2 bg-white hover:bg-green-50 text-green-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border border-green-200 hover:border-green-300 shadow-sm hover:shadow-md transform hover:scale-105",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})}),(0,a.jsx)("span",{children:"Resume Campaign"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-green-100 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}):null,(0,a.jsxs)("button",{onClick:j,className:"group relative flex items-center space-x-2 bg-white hover:bg-red-50 text-red-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border border-red-200 hover:border-red-300 shadow-sm hover:shadow-md transform hover:scale-105",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M6 6h12v12H6z"})}),(0,a.jsx)("span",{children:"Stop Campaign"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-red-100 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.sent}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Sent"})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})}),(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.successful}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Successful"})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.failed}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Failed"})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.total}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total"})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),e.startTime&&(0,a.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200/60 rounded-2xl p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-700 mb-1",children:["Duration: ",(()=>{if(!e.startTime)return"0s";let s=Math.floor(c/6e4),t=Math.floor(c%6e4/1e3);return s>0?"".concat(s,"m ").concat(t,"s"):"".concat(t,"s")})()]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Duration"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-700 mb-1",children:["Success Rate: ",0===e.sent?0:Math.round(e.successful/e.sent*100),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Success Rate"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("running"===e.status?"bg-green-500 animate-pulse":"paused"===e.status?"bg-yellow-500":"stopped"===e.status?"bg-red-500":"completed"===e.status?"bg-blue-500":"bg-gray-400")}),(0,a.jsx)("span",{className:"text-lg font-bold text-gray-700",children:"running"===e.status?"Running":"paused"===e.status?"Paused":"stopped"===e.status?"Stopped":"completed"===e.status?"Completed":"Idle"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Campaign Status"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-blue",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Email Sending Details"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Real-time email delivery status with sender mapping"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-4 h-80 overflow-y-auto",children:0===t.length?(0,a.jsxs)("div",{className:"text-center text-gray-500 py-16",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("p",{className:"text-lg font-medium mb-2",children:"Email sending details will appear here when campaigns are running..."})]}):(0,a.jsxs)("div",{className:"space-y-1",children:[e.campaignName&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"bg-blue-100 border border-blue-200 rounded-lg p-3 mb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,a.jsxs)("span",{className:"font-semibold text-blue-800",children:["\uD83D\uDCE7 ",e.campaignName]})]})})}),(0,a.jsx)("div",{className:"space-y-1",children:t.map((e,s)=>{let t=new Date(e.timestamp).toLocaleTimeString(),r="success"===e.status;return(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 text-sm font-mono bg-white rounded border hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("span",{className:"text-gray-500 text-xs min-w-[80px]",children:["[",t,"]"]}),(0,a.jsx)("span",{className:"text-lg ".concat(r?"text-green-500":"text-red-500"),children:r?"✅":"❌"}),(0,a.jsx)("span",{className:"text-gray-800 font-medium flex-1",children:e.recipient}),(0,a.jsx)("span",{className:"text-gray-400",children:"→"}),(0,a.jsx)("span",{className:"text-blue-600 min-w-[150px]",children:e.sender}),!r&&e.error&&(0,a.jsxs)("span",{className:"text-red-600 text-xs ml-2 max-w-[200px] truncate",title:e.error,children:["(",e.error,")"]})]},s)})})]})})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-gray-200/60 p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-400 to-primary-500 rounded-2xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-gray-600",children:"System events and campaign updates"})]})]}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsx)("button",{onClick:()=>{i([])},className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-xl transition-all duration-300 font-medium border border-gray-200",children:"Clear Log"})})]}),(0,a.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-4 h-60 overflow-y-auto",children:0===l.length?(0,a.jsxs)("div",{className:"text-center text-gray-500 py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("p",{className:"text-lg font-medium mb-2",children:"Activity log is empty"}),(0,a.jsx)("p",{className:"text-sm",children:"System events and campaign updates will appear here"})]}):(0,a.jsx)("div",{className:"space-y-1",children:l.map((e,s)=>(0,a.jsx)("div",{className:"text-gray-700 p-2 text-sm bg-white rounded border hover:bg-gray-50 transition-colors",children:e},s))})})]})]})]})}var j=()=>{let{user:e}=(0,n.aC)(),[s,t]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)({email:"",password:"",name:"",role:"user"}),[x,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1),[j,f]=(0,r.useState)(null),v=(null==e?void 0:e.role)==="admin";(0,r.useEffect)(()=>{v&&N()},[v]);let N=async()=>{try{let e=localStorage.getItem("token"),s=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();t(e.users)}else u.ZP.error("Failed to fetch users")}catch(e){u.ZP.error("Error fetching users"),console.error("Error:",e)}finally{i(!1)}},w=async e=>{e.preventDefault();try{let e=localStorage.getItem("token"),s=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(c)}),t=await s.json();t.success?(u.ZP.success("User created successfully"),m({email:"",password:"",name:"",role:"user"}),d(!1),N()):u.ZP.error(t.message||"Failed to create user")}catch(e){u.ZP.error("Error creating user"),console.error("Error:",e)}},k=async(e,s)=>{try{let t=localStorage.getItem("token"),a=await fetch("/api/admin/users",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,updates:{isActive:!s}})}),r=await a.json();r.success?(u.ZP.success("User ".concat(s?"deactivated":"activated"," successfully")),N()):u.ZP.error(r.message||"Failed to update user")}catch(e){u.ZP.error("Error updating user"),console.error("Error:",e)}},S=e=>{g(e),h(!0)},C=async e=>{if(e.preventDefault(),p)try{let e=localStorage.getItem("token"),s=await fetch("/api/admin/users",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:p._id,updates:{name:p.name,email:p.email,role:p.role}})}),t=await s.json();t.success?(u.ZP.success("User updated successfully"),h(!1),g(null),N()):u.ZP.error(t.message||"Failed to update user")}catch(e){u.ZP.error("Error updating user"),console.error("Error:",e)}},D=e=>{f(e),b(!0)},L=async()=>{if(j)try{let e=localStorage.getItem("token"),s=await fetch("/api/admin/users",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:j._id,permanent:!0})}),t=await s.json();t.success?(u.ZP.success("User deleted successfully"),b(!1),f(null),N()):u.ZP.error(t.message||"Failed to delete user")}catch(e){u.ZP.error("Error deleting user"),console.error("Error:",e)}};return v?l?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]}):(0,a.jsxs)("div",{className:"space-y-6 pb-16",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage user accounts and permissions"})]}),(0,a.jsx)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create New User"})]}),o&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New User"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:c.email,onChange:e=>m({...c,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:c.name,onChange:e=>m({...c,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",value:c.password,onChange:e=>m({...c,password:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,a.jsxs)("select",{value:c.role,onChange:e=>m({...c,role:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"user",children:"User"}),(0,a.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"}),(0,a.jsx)("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})}),x&&p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Edit User"}),(0,a.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:p.email,onChange:e=>g({...p,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:p.name,onChange:e=>g({...p,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,a.jsxs)("select",{value:p.role,onChange:e=>g({...p,role:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"user",children:"User"}),(0,a.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-xs text-yellow-700",children:"Note: Email and role changes will take effect immediately. The user may need to log in again."})}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Update User"}),(0,a.jsx)("button",{type:"button",onClick:()=>{h(!1),g(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})}),y&&j&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Are you sure you want to permanently delete this user?"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:j.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:j.email}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Role: ",j.role]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:L,className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Yes, Delete User"}),(0,a.jsx)("button",{onClick:()=>{b(!1),f(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(s=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:s.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:s.email})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===s.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:s.role})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(s.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:s.isActive?"Active":"Inactive"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.createdAt&&!isNaN(new Date(s.createdAt).getTime())?new Date(s.createdAt).toLocaleDateString():"Unknown"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.lastLogin&&!isNaN(new Date(s.lastLogin).getTime())?new Date(s.lastLogin).toLocaleDateString():"Never"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>S(s),disabled:(null==e?void 0:e.email)===s.email,className:"text-blue-600 hover:text-blue-900 disabled:opacity-40 disabled:cursor-not-allowed",title:(null==e?void 0:e.email)===s.email?"You can't edit your own account here":"Edit user",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsx)("button",{onClick:()=>k(s._id,s.isActive),disabled:(null==e?void 0:e.email)===s.email,className:"".concat(s.isActive?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"," disabled:opacity-40 disabled:cursor-not-allowed"),title:(null==e?void 0:e.email)===s.email?"You can't deactivate your own account":s.isActive?"Deactivate":"Activate",children:s.isActive?(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}):(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("button",{onClick:()=>D(s),disabled:(null==e?void 0:e.email)===s.email,className:"text-red-600 hover:text-red-900 disabled:opacity-40 disabled:cursor-not-allowed",title:(null==e?void 0:e.email)===s.email?"You can't delete your own account":"Delete user",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},s._id))})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this section."})]})},f=()=>{let{user:e}=(0,n.aC)(),[s,t]=(0,r.useState)([]),[l,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)("all");(0,r.useEffect)(()=>{y();let e=s.some(e=>"running"===e.status),t=setInterval(()=>{y()},e?2e3:1e4);return()=>clearInterval(t)},[s]);let y=async()=>{try{let e=localStorage.getItem("token");if(!e){d(!1);return}let s=await fetch("/api/campaigns/list",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();t(e.campaigns||[]),i(e.stats)}else u.ZP.error("Failed to fetch campaigns")}catch(e){console.error("Error fetching campaigns:",e),u.ZP.error("Error fetching campaigns")}finally{d(!1)}},b=async e=>{try{let s=localStorage.getItem("token"),t=await fetch("/api/campaigns/details?id=".concat(e._id),{headers:{Authorization:"Bearer ".concat(s)}});if(t.ok){let e=await t.json();m(e.campaign),h(!0)}else u.ZP.error("Failed to fetch campaign details")}catch(e){u.ZP.error("Error fetching campaign details"),console.error("Error:",e)}},j=e=>{switch(e){case"running":return"bg-blue-100 text-blue-800";case"paused":return"bg-yellow-100 text-yellow-800";case"stopped":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=s.filter(e=>"all"===p||("running"===p?"running"===e.status||"paused"===e.status:"completed"!==p||"completed"===e.status||"stopped"===e.status)),v=(e,s)=>0===s?"0.0":(e/s*100).toFixed(1);return o?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading campaigns..."})]}):(0,a.jsxs)("div",{className:"space-y-6 pb-16",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Campaign History"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage all your email campaigns"})]}),(0,a.jsxs)("button",{onClick:()=>{d(!0),y()},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),l&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Campaigns"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l.totalCampaigns})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[l.runningCampaigns," running \xb7 ",l.completedCampaigns," completed"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Emails Sent"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l.totalEmailsSent.toLocaleString()})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),(0,a.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[l.totalSuccessful.toLocaleString()," successful"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[v(l.totalSuccessful,l.totalEmailsSent),"%"]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,a.jsxs)("p",{className:"text-sm text-red-600 mt-2",children:[l.totalFailed.toLocaleString()," failed"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsxs)("button",{onClick:()=>g("all"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("all"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["All Campaigns (",s.length,")"]}),(0,a.jsxs)("button",{onClick:()=>g("running"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("running"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Active (",s.filter(e=>"running"===e.status||"paused"===e.status).length,")"]}),(0,a.jsxs)("button",{onClick:()=>g("completed"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("completed"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Completed (",s.filter(e=>"completed"===e.status||"stopped"===e.status).length,")"]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:0===f.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No campaigns found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new campaign."})]}):(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 ".concat("running"===e.status?"bg-blue-50":""),children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["running"===e.status&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.campaignName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.subject})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.userEmail})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(j(e.status)),children:e.status})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.sentCount," / ",e.totalRecipients]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.sentCount/e.totalRecipients*100,"%")}})})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[v(e.successCount,e.sentCount),"%"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.successCount," / ",e.sentCount," sent"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.startTime).toLocaleString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>b(e),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},e._id))})]})})]}),x&&c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:c.campaignName}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Created By"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.userEmail})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Subject"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(j(c.status)),children:c.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Started"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(c.startTime).toLocaleString()})]}),c.endTime&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Ended"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(c.endTime).toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Recipients"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.totalRecipients})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Emails Sent"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.sentCount})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Successful"}),(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:c.successCount})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Failed"}),(0,a.jsx)("p",{className:"text-sm font-medium text-red-600",children:c.failedCount})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Senders Used"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.selectedSenders.map((e,s)=>(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},s))})]}),c.emailLogs&&c.emailLogs.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Email Logs (Last 200)"}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recipient"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sender"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.emailLogs.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.name||e.email}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm",children:"sent"===e.status?(0,a.jsx)("span",{className:"text-green-600",children:"✓ Sent"}):(0,a.jsx)("span",{className:"text-red-600",title:e.error,children:"✗ Failed"})}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.sender}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]},s))})]})})]})]})})})]})},v=(0,n.QO)(function(){let[e,s]=(0,r.useState)("compose"),[t,n]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[c,m]=(0,r.useState)([]),[u,p]=(0,r.useState)({campaignName:"",subject:"",body:"",selectedSenders:[],timezoneConfig:null});return(0,r.useEffect)(()=>{let e=localStorage.getItem("campaignFormData");if(e)try{let s=JSON.parse(e);p(s)}catch(e){console.log("Error loading saved form data:",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("campaignFormData",JSON.stringify(u))},[u]),(0,a.jsx)(l,{sidebar:(0,a.jsx)(i,{activeSection:e,onSectionChange:s}),children:(()=>{switch(e){case"compose":default:return(0,a.jsx)(x,{recipients:t,senders:o,templates:c,campaignFormData:u,setCampaignFormData:p});case"analytics":return(0,a.jsx)(b,{});case"campaigns":return(0,a.jsx)(f,{});case"recipients":return(0,a.jsx)(y,{recipients:t,setRecipients:n});case"senders":return(0,a.jsx)(h,{senders:o,setSenders:d});case"templates":return(0,a.jsx)(g,{templates:c,setTemplates:m});case"user-management":return(0,a.jsx)(j,{})}})()})})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);